<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>Polityka Prywatno≈õci i Plik√≥w Cookies - JustCloud.pl</title>
    <meta name="title" content="Polityka Prywatno≈õci i Plik√≥w Cookies - JustCloud.pl">
    <meta name="description" content="Informacje o przetwarzaniu danych osobowych, plikach cookies i zgodno≈õci z RODO na stronie JustCloud.pl">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://justcloud.pl/privacy-policy.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'jc-blue': {
                            DEFAULT: '#00A7E4',
                            50: '#E6F7FD',
                            100: '#B8EBFA',
                            200: '#8ADFF7',
                            300: '#5CD3F4',
                            400: '#2EC7F1',
                            500: '#00A7E4',
                            600: '#0090C7',
                            700: '#007AAA',
                            800: '#00648D',
                            900: '#004E70',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Table of Contents Sidebar Styles */
        #toc-nav {
            max-height: calc(100vh - 10rem);
            overflow-y: auto;
        }
        
        #toc-nav::-webkit-scrollbar {
            width: 4px;
        }
        
        #toc-nav::-webkit-scrollbar-track {
            background: transparent;
        }
        
        #toc-nav::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 2px;
        }
        
        .dark #toc-nav::-webkit-scrollbar-thumb {
            background: #4b5563;
        }
        
        .toc-link {
            position: relative;
            padding-left: 0;
            margin-left: 0;
        }
        
        .active-toc-link {
            padding-left: 0.75rem !important;
            margin-left: -1px !important;
        }
    </style>
</head>
<body class="font-inter antialiased bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">

    <!-- Header -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 transition-all duration-300">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="index.html" class="flex items-center space-x-3">
                    <img src="img/logo.png" alt="JustCloud.pl Logo" class="h-12 w-auto" loading="eager">
                    <span class="font-space-mono font-bold text-xl sm:text-2xl text-jc-blue-600 dark:text-jc-blue-300">JustCloud.pl</span>
                </a>
                
                <!-- Dark Mode Toggle & Back Button -->
                <div class="flex items-center gap-4">
                    <!-- Desktop Dark Mode Toggle (hidden on mobile) -->
                    <button id="theme-toggle-desktop" type="button" class="hidden md:block p-2 text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors" aria-label="Toggle dark mode">
                        <svg class="theme-toggle-dark-icon hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg class="theme-toggle-light-icon hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                    <a href="index.html" class="px-4 py-2 text-sm font-medium text-gray-800 dark:text-gray-100 hover:text-jc-blue-600 dark:hover:text-jc-blue-300 transition-colors">
                        ‚Üê Powr√≥t na stronƒô g≈Ç√≥wnƒÖ
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="pt-32 pb-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Main Content Area -->
                <div class="flex-1 max-w-4xl">
                    <!-- Page Title -->
                    <h1 class="font-space-mono text-4xl sm:text-5xl font-bold mb-8 text-gray-900 dark:text-white">
                        Polityka Prywatno≈õci i Plik√≥w Cookies
                    </h1>
                    
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-12">
                        Ostatnia aktualizacja: 18 listopada 2025
                    </p>

                    <div class="prose prose-lg dark:prose-invert max-w-none">
                <!-- Introduction -->
                <section class="mb-12">
                    <p class="text-lg leading-relaxed text-gray-600 dark:text-gray-300">
                        Witaj! Cieszƒô siƒô, ≈ºe odwiedzasz mojƒÖ stronƒô. Poni≈ºej znajdziesz informacje o tym, jakie dane sƒÖ zbierane podczas korzystania z mojej strony, w jaki spos√≥b sƒÖ wykorzystywane oraz jakie prawa Ci przys≈ÇugujƒÖ.
                    </p>
                </section>

                <!-- Section 1 -->
                <section id="section-1" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">1. Administrator Danych</h2>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">Administratorem danych osobowych jest:</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg mb-4">
                        <p class="mb-2"><strong>üë®‚Äçüíº Piotr Rogala</strong></p>
                        <p>‚úâÔ∏è <a href="index.html#contact" class="text-jc-blue-600 dark:text-jc-blue-400 hover:underline">Formularz kontaktowy</a></p>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300">
                        Poniewa≈º strona jest projektem hobbystycznym, nie wyznaczono Inspektora Ochrony Danych.
                    </p>
                </section>

                <!-- Section 2 -->
                <section id="section-2" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">2. Zakres przetwarzania danych</h2>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">
                        Podczas korzystania z mojej strony przetwarzane sƒÖ dane techniczne oraz dane osobowe, kt√≥re dobrowolnie podajesz korzystajƒÖc z dostƒôpnych funkcjonalno≈õci:
                    </p>
                    <ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-300">
                        <li><strong>Formularz kontaktowy (Formspree)</strong> ‚Äì adres e-mail i tre≈õƒá wiadomo≈õci w celu obs≈Çugi zapytania;</li>
                        <li><strong>Newsletter (SendFox)</strong> ‚Äì adres e-mail w celu przesy≈Çania informacji o warsztatach (zapis i wypisanie mo≈ºliwe w ka≈ºdej chwili);</li>
                        <li><strong>Rezerwacja spotka≈Ñ (TinyCal)</strong> ‚Äì adres e-mail w celu wys≈Çania zaproszenia na spotkanie online;</li>
                        <li><strong>Google Analytics</strong> ‚Äì anonimowe dane statystyczne w celu analizy ruchu (tylko za TwojƒÖ zgodƒÖ);</li>
                        <li><strong>GitHub Pages</strong> ‚Äì dane techniczne (np. adres IP) w celu hostingu i bezpiecze≈Ñstwa.</li>
                    </ul>
                </section>

                <!-- Section 3 -->
                <section id="section-3" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">3. Pliki Cookies</h2>
                    
                    <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Co to sƒÖ cookies?</h3>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">
                        Cookies to ma≈Çe pliki tekstowe zapisywane na Twoim urzƒÖdzeniu przez przeglƒÖdarkƒô. U≈ºywam ich w celu:
                    </p>
                    <ul class="list-disc pl-6 mb-6 space-y-2 text-gray-600 dark:text-gray-300">
                        <li>zapamiƒôtywania ustawie≈Ñ u≈ºytkownika (cookies niezbƒôdne),</li>
                        <li>zbierania anonimowych danych statystycznych (cookies analityczne ‚Äì Google Analytics).</li>
                    </ul>

                    <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Rodzaje cookies stosowane na stronie</h3>
                    <ul class="list-disc pl-6 mb-6 space-y-2 text-gray-600 dark:text-gray-300">
                        <li><strong>Cookies niezbƒôdne</strong> ‚Äì potrzebne do prawid≈Çowego dzia≈Çania strony, nie wymagajƒÖ zgody.</li>
                        <li><strong>Cookies analityczne (Google Analytics)</strong> ‚Äì wymagajƒÖ Twojej zgody przed uruchomieniem.</li>
                    </ul>

                    <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">ZarzƒÖdzanie cookies</h3>
                    <ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-300">
                        <li>Mo≈ºesz w ka≈ºdej chwili usunƒÖƒá lub zablokowaƒá pliki cookies w ustawieniach swojej przeglƒÖdarki.</li>
                        <li>Wy≈ÇƒÖczenie cookies analitycznych nie wp≈Çywa na korzystanie z podstawowych funkcji strony.</li>
                        <li>Mo≈ºesz zmieniƒá swoje preferencje w dowolnym momencie klikajƒÖc <button id="cookie-settings-link" class="text-jc-blue-600 dark:text-jc-blue-400 hover:underline font-semibold cursor-pointer">‚ÄûUstawienia cookies"</button> w stopce strony.</li>
                    </ul>
                </section>

                <!-- Section 4 -->
                <section id="section-4" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">4. Podstawa prawna przetwarzania</h2>
                    <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
                        <li><strong>Kontakt i rezerwacja spotka≈Ñ</strong> ‚Äì art. 6 ust. 1 lit. f RODO (uzasadniony interes ‚Äì obs≈Çuga korespondencji i organizacja spotka≈Ñ).</li>
                        <li><strong>Newsletter (SendFox)</strong> ‚Äì art. 6 ust. 1 lit. a RODO (dobrowolna zgoda u≈ºytkownika).</li>
                        <li><strong>Cookies niezbƒôdne / dane techniczne</strong> ‚Äì art. 6 ust. 1 lit. f RODO (uzasadniony interes ‚Äì bezpiecze≈Ñstwo i dzia≈Çanie strony).</li>
                        <li><strong>Cookies analityczne (Google Analytics)</strong> ‚Äì art. 6 ust. 1 lit. a RODO (zgoda u≈ºytkownika).</li>
                    </ul>
                </section>

                <!-- Section 5 -->
                <section id="section-5" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">5. Odbiorcy danych i transfery poza UE</h2>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">
                        Wsp√≥≈Çpracujƒô z zaufanymi dostawcami us≈Çug zewnƒôtrznych. Twoje dane mogƒÖ byƒá przekazywane do:
                    </p>
                    <ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-300">
                        <li><strong>Formspree Inc.</strong> (USA) ‚Äì obs≈Çuga formularza kontaktowego.</li>
                        <li><strong>Sumo Group Inc. / SendFox</strong> (USA) ‚Äì obs≈Çuga newslettera.</li>
                        <li><strong>TinyCal</strong> (USA) ‚Äì obs≈Çuga rezerwacji spotka≈Ñ.</li>
                        <li><strong>Google LLC</strong> (USA) ‚Äì analityka ruchu.</li>
                    </ul>
                    <p class="text-gray-600 dark:text-gray-300">
                        Wymienione podmioty mogƒÖ przetwarzaƒá dane poza Europejskim Obszarem Gospodarczym (g≈Ç√≥wnie w USA). Transfer danych odbywa siƒô na podstawie standardowych klauzul umownych (SCC) lub innych mechanizm√≥w zgodnych z RODO.
                    </p>
                </section>

                <!-- Section 6 -->
                <section id="section-6" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">6. Okres przechowywania danych</h2>
                    <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
                        <li><strong>Wiadomo≈õci kontaktowe (Formspree)</strong> ‚Äì usuwane niezw≈Çocznie po odczytaniu lub zako≈Ñczeniu kontaktu.</li>
                        <li><strong>Dane newslettera (SendFox)</strong> ‚Äì do momentu wycofania zgody (wypisania siƒô z listy).</li>
                        <li><strong>Dane rezerwacji (TinyCal)</strong> ‚Äì usuwane po odbyciu spotkania.</li>
                        <li><strong>Cookies analityczne</strong> ‚Äì maksymalnie 24 miesiƒÖce od momentu zapisania.</li>
                        <li><strong>Dane techniczne (GitHub Pages)</strong> ‚Äì zgodnie z politykƒÖ us≈Çugodawcy.</li>
                    </ul>
                </section>

                <!-- Section 7 -->
                <section id="section-7" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">7. Twoje prawa</h2>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">Masz prawo do:</p>
                    <ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-300">
                        <li>dostƒôpu do swoich danych,</li>
                        <li>sprostowania swoich danych,</li>
                        <li>usuniƒôcia danych (‚Äûprawo do bycia zapomnianym"),</li>
                        <li>ograniczenia przetwarzania,</li>
                        <li>cofniƒôcia zgody w dowolnym momencie (bez wp≈Çywu na zgodno≈õƒá z prawem przetwarzania przed jej cofniƒôciem),</li>
                        <li>wniesienia skargi do organu nadzorczego (Prezesa Urzƒôdu Ochrony Danych Osobowych ‚Äì <a href="https://uodo.gov.pl" target="_blank" rel="noopener noreferrer" class="text-jc-blue-600 dark:text-jc-blue-400 hover:underline">https://uodo.gov.pl</a>).</li>
                    </ul>
                    <p class="text-gray-600 dark:text-gray-300">
                        Aby skorzystaƒá z tych praw, skontaktuj siƒô ze mnƒÖ przez <a href="index.html#contact" class="text-jc-blue-600 dark:text-jc-blue-400 hover:underline">formularz kontaktowy</a>.
                    </p>
                </section>

                <!-- Section 8 -->
                <section id="section-8" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">8. Baner cookies</h2>
                    <p class="mb-4 text-gray-600 dark:text-gray-300">
                        Przed zapisaniem cookies analitycznych na Twoim urzƒÖdzeniu, strona wy≈õwietla baner pozwalajƒÖcy na:
                    </p>
                    <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
                        <li>zaakceptowanie wszystkich cookies (w tym Google Analytics),</li>
                        <li>odrzucenie cookies analitycznych (tylko niezbƒôdne cookies bƒôdƒÖ aktywne),</li>
                        <li>dostƒôp do szczeg√≥≈Çowych informacji w Polityce Prywatno≈õci.</li>
                    </ul>
                </section>

                <!-- Section 9 -->
                <section id="section-9" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">9. Hosting</h2>
                    <p class="text-gray-600 dark:text-gray-300">
                        Strona jest hostowana na platformie <strong>GitHub Pages</strong>, kt√≥ra mo≈ºe zbieraƒá anonimowe dane techniczne (np. adres IP) w zakresie niezbƒôdnym do ≈õwiadczenia us≈Çugi hostingu.
                    </p>
                </section>

                <!-- Section 10 -->
                <section id="section-10" class="mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">10. Zmiany w Polityce</h2>
                    <p class="text-gray-600 dark:text-gray-300">
                        Polityka mo≈ºe byƒá aktualizowana w przysz≈Ço≈õci w przypadku zmian w przepisach prawa lub sposobie dzia≈Çania strony. Najnowsza wersja bƒôdzie zawsze dostƒôpna pod linkiem w stopce strony.
                    </p>
                </section>

                <!-- Thank You -->
                <section class="mt-12 p-6 bg-jc-blue-50 dark:bg-gray-800 rounded-lg border-l-4 border-jc-blue-500">
                    <p class="text-lg font-semibold text-gray-900 dark:text-white">
                        Dziƒôkujƒô za odwiedzenie mojej strony i przeczytanie tej polityki! üôè
                    </p>
                </section>
            </div><!-- Close prose content -->
        </div><!-- Close main content area -->

        <!-- Sticky Sidebar Navigation (Desktop only) -->
        <aside class="hidden lg:block w-64 flex-shrink-0">
            <nav id="toc-nav" class="sticky top-32 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 shadow-sm">
                <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-4 uppercase tracking-wide">
                    Na tej stronie
                </h3>
                <ul class="space-y-2 text-sm">
                    <li>
                        <a href="#section-1" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            1. Administrator Danych
                        </a>
                    </li>
                    <li>
                        <a href="#section-2" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            2. Zakres przetwarzania danych
                        </a>
                    </li>
                    <li>
                        <a href="#section-3" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            3. Pliki Cookies
                        </a>
                    </li>
                    <li>
                        <a href="#section-4" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            4. Podstawa prawna przetwarzania
                        </a>
                    </li>
                    <li>
                        <a href="#section-5" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            5. Odbiorcy danych i transfery poza UE
                        </a>
                    </li>
                    <li>
                        <a href="#section-6" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            6. Okres przechowywania danych
                        </a>
                    </li>
                    <li>
                        <a href="#section-7" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            7. Twoje prawa
                        </a>
                    </li>
                    <li>
                        <a href="#section-8" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            8. Baner cookies
                        </a>
                    </li>
                    <li>
                        <a href="#section-9" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            9. Hosting
                        </a>
                    </li>
                    <li>
                        <a href="#section-10" class="toc-link block py-1 text-gray-600 dark:text-gray-400 hover:text-jc-blue-600 dark:hover:text-jc-blue-400 transition-colors">
                            10. Zmiany w Polityce
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        </div><!-- Close flex container -->
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 dark:bg-gray-950 text-gray-300 dark:text-gray-400 py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Mobile Dark Mode Toggle (visible only on mobile) -->
            <div class="flex justify-center mb-4 md:hidden">
                <button id="theme-toggle-mobile" type="button" class="p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors" aria-label="Toggle dark mode">
                    <svg class="theme-toggle-dark-icon hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                    </svg>
                    <svg class="theme-toggle-light-icon hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center text-sm text-gray-500 dark:text-gray-500">
                <p>&copy; 2025 JustCloud.pl. Wszystkie prawa zastrze≈ºone.</p>
                <p class="mt-2">
                    <a href="privacy-policy.html" class="text-jc-blue-400 dark:text-jc-blue-300 hover:underline">Polityka Prywatno≈õci i Cookies</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Redirect to settings when clicking "Ustawienia cookies" link in content
        document.getElementById('cookie-settings-link')?.addEventListener('click', function() {
            window.location.href = 'index.html#cookie-settings';
        });

        // Table of Contents - Active Section Tracking & Smooth Scroll
        (function() {
            const tocLinks = document.querySelectorAll('.toc-link');
            const sections = Array.from(document.querySelectorAll('section[id^="section-"]'));
            if (!tocLinks.length || !sections.length) return;

            const header = document.getElementById('header');
            let manualLock = false;
            let manualTarget = null;
            let manualTimeout = null;

            function clearManualLock() {
                manualLock = false;
                manualTarget = null;
            }

            function highlightLinkById(id) {
                tocLinks.forEach(link => {
                    link.classList.remove('active-toc-link', 'text-jc-blue-600', 'dark:text-jc-blue-400', 'font-semibold', 'border-l-2', 'border-jc-blue-600', 'dark:border-jc-blue-400', 'pl-3', '-ml-px');
                });
                const targetLink = document.querySelector(`.toc-link[href="#${id}"]`);
                if (targetLink) {
                    targetLink.classList.add('active-toc-link', 'text-jc-blue-600', 'dark:text-jc-blue-400', 'font-semibold', 'border-l-2', 'border-jc-blue-600', 'dark:border-jc-blue-400', 'pl-3', '-ml-px');
                }
            }

            // Smooth scroll & immediate highlight on click
            tocLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const id = link.getAttribute('href').substring(1);
                    const target = document.getElementById(id);
                    if (!target) return;

                    manualLock = true;
                    manualTarget = id;
                    highlightLinkById(id);

                    const headerHeight = header?.offsetHeight || 0;
                    let targetTop = target.offsetTop - headerHeight - 16;

                    // If near bottom of page, allow natural bottom alignment
                    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                    if (targetTop > maxScroll) targetTop = maxScroll;

                    window.scrollTo({ top: Math.max(0, targetTop), behavior: 'smooth' });

                    // Release manual lock after scrolling (approx duration)
                    clearTimeout(manualTimeout);
                    manualTimeout = setTimeout(clearManualLock, 800);
                });
            });

            // IntersectionObserver for robust highlighting (handles short sections 8-10)
            const observerOptions = {
                root: null,
                // Top margin accounts for fixed header; bottom negative to trigger earlier for short sections
                rootMargin: '-80px 0px -55% 0px',
                threshold: [0, 0.15, 0.3, 0.5, 0.75]
            };

            const visibleSections = new Map();

            function pickActiveSection() {
                if (manualLock && manualTarget) {
                    // While user is actively clicking / scrolling, keep manual highlight
                    highlightLinkById(manualTarget);
                    return;
                }

                // Choose section with highest intersection ratio, fallback to last fully scrolled past
                let bestSection = null;
                let bestRatio = 0;
                visibleSections.forEach((ratio, id) => {
                    if (ratio > bestRatio) {
                        bestRatio = ratio;
                        bestSection = id;
                    }
                });

                // Fallback near page bottom: ensure final section highlights
                const bottomProximity = (window.scrollY + window.innerHeight) / document.documentElement.scrollHeight;
                if (bottomProximity > 0.98) {
                    bestSection = sections[sections.length - 1].id;
                }

                if (!bestSection) {
                    // If nothing visible, choose first section above scroll
                    const scrollY = window.scrollY + (header?.offsetHeight || 0) + 40;
                    for (let i = sections.length - 1; i >= 0; i--) {
                        if (scrollY >= sections[i].offsetTop) {
                            bestSection = sections[i].id;
                            break;
                        }
                    }
                }

                if (bestSection) {
                    highlightLinkById(bestSection);
                }
            }

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.id;
                    if (entry.isIntersecting) {
                        visibleSections.set(id, entry.intersectionRatio);
                    } else {
                        // Remove only if scrolled well past it (prevents flicker for short sections)
                        if (window.scrollY + (header?.offsetHeight || 0) + 120 < entry.target.offsetTop) {
                            visibleSections.delete(id);
                        }
                    }
                });
                pickActiveSection();
            }, observerOptions);

            sections.forEach(section => observer.observe(section));

            // Initial highlighting
            pickActiveSection();
        })();
    </script>

    <!-- Dark Mode Script -->
    <script>
        (function() {
            const themeToggleBtnDesktop = document.getElementById('theme-toggle-desktop');
            const themeToggleBtnMobile = document.getElementById('theme-toggle-mobile');
            const darkIcons = document.querySelectorAll('.theme-toggle-dark-icon');
            const lightIcons = document.querySelectorAll('.theme-toggle-light-icon');
            const html = document.documentElement;

            // Check for saved theme preference or default to system preference
            const getThemePreference = () => {
                if (localStorage.getItem('theme')) {
                    return localStorage.getItem('theme');
                }
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            };

            // Set theme
            const setTheme = (theme) => {
                if (theme === 'dark') {
                    html.classList.add('dark');
                    darkIcons.forEach(icon => icon?.classList.remove('hidden'));
                    lightIcons.forEach(icon => icon?.classList.add('hidden'));
                } else {
                    html.classList.remove('dark');
                    darkIcons.forEach(icon => icon?.classList.add('hidden'));
                    lightIcons.forEach(icon => icon?.classList.remove('hidden'));
                }
                localStorage.setItem('theme', theme);
            };

            // Initialize theme
            setTheme(getThemePreference());

            // Toggle theme function
            const toggleTheme = () => {
                const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
                setTheme(currentTheme === 'dark' ? 'light' : 'dark');
            };

            // Add event listeners to both buttons
            themeToggleBtnDesktop?.addEventListener('click', toggleTheme);
            themeToggleBtnMobile?.addEventListener('click', toggleTheme);
        })();
    </script>
</body>
</html>
